root@flo:/data/misc # ./test

main: pid(3660)
/proc/self/maps:
00008000-00085000 r-xp 00000000 b3:1e 188455 d2311000-00000000 11.1....11..1111111111111111111...........1111111..........1.1...1..1...111......................1..1.1.1............1..1....  /data/misc/test
0008c000-0008e000 rw-p 0007c000 b3:1e 188455 e05a2000-e00dc000 11  /data/misc/test
0008e000-0008f000 rw-p 00000000 00:00 0 e00dc000-00000000 1 
0145c000-0147e000 rw-p 00000000 00:00 0 e0688000-00000000 1.................................  [heap]
b6f32000-b6f33000 rw-p 00000000 00:00 0 e068b000-00000000 1 
bee7e000-bee9f000 rw-p 00000000 00:00 0 00000000-00000000 ..........................1....11  [stack]
ffff0000-ffff1000 r-xp 00000000 00:00 0 00000000-00000000   [vectors]

Test 1, ..........

in test_1 child, pid(3661), new_map(b6f28000)
/proc/self/maps:
00008000-00085000 r-xp 00000000 b3:1e 188455 d2311000-00000000 22.2.....2..222.2.......2222...............222222................................................2..2................2.......  /data/misc/test
0008c000-0008e000 rw-p 0007c000 b3:1e 188455 e05a2000-e00dc000 11  /data/misc/test
0008e000-0008f000 rw-p 00000000 00:00 0 e00dc000-00000000 2 
0145c000-0147e000 rw-p 00000000 00:00 0 e0688000-00000000 1.................................  [heap]
b6f28000-b6f32000 ---p 00000000 00:00 0 00000000-e0780000 .......... 
b6f32000-b6f33000 rw-p 00000000 00:00 0 e0780000-00000000 1 
bee7e000-bee9f000 rw-p 00000000 00:00 0 00000000-00000000 ..........................1....21  [stack]
ffff0000-ffff1000 r-xp 00000000 00:00 0 00000000-00000000   [vectors]
pid(3660): done waiting for test_1, pid(3661).


Test 2, 1111111111

in test_2 child, pid(3662), new_map(b6f28000)
/proc/self/maps:
00008000-00085000 r-xp 00000000 b3:1e 188455 d2311000-00000000 22.2.....2..222.2.......2222...............222222................................................2..2................2.......  /data/misc/test
0008c000-0008e000 rw-p 0007c000 b3:1e 188455 e0782000-e00dc000 11  /data/misc/test
0008e000-0008f000 rw-p 00000000 00:00 0 e00dc000-00000000 2 
0145c000-0147e000 rw-p 00000000 00:00 0 e0697000-00000000 1.................................  [heap]
b6f28000-b6f32000 -w-p 00000000 00:00 0 e003f000-e0783000 1111111111 
b6f32000-b6f33000 rw-p 00000000 00:00 0 e0783000-00000000 1 
bee7e000-bee9f000 rw-p 00000000 00:00 0 00000000-00000000 ..........................1....21  [stack]
ffff0000-ffff1000 r-xp 00000000 00:00 0 00000000-00000000   [vectors]
pid(3660): done waiting for test_2, pid(3662).


Test 3, .1.1.1.1.1

in test_3 child, pid(3663), new_map(b6f28000)
/proc/self/maps:
00008000-00085000 r-xp 00000000 b3:1e 188455 00000000-00000000 .2.2.....2..222.2.......2222...............222222................................................2..2................2.......  /data/misc/test
0008c000-0008e000 rw-p 0007c000 b3:1e 188455 e0780000-e00dc000 11  /data/misc/test
0008e000-0008f000 rw-p 00000000 00:00 0 e00dc000-00000000 2 
0145c000-0147e000 rw-p 00000000 00:00 0 e05a2000-00000000 1.................................  [heap]
b6f28000-b6f32000 -w-p 00000000 00:00 0 00000000-e000f000 .1.1.1.1.1 
b6f32000-b6f33000 rw-p 00000000 00:00 0 e000f000-00000000 1 
bee7e000-bee9f000 rw-p 00000000 00:00 0 00000000-00000000 ..........................1....21  [stack]
ffff0000-ffff1000 r-xp 00000000 00:00 0 00000000-00000000   [vectors]
pid(3660): done waiting for test_3, pid(3663).


Test 4, 22222.....

in test_4 child, pid(3664), new_map(b6f28000)
/proc/self/maps:
00008000-00085000 r-xp 00000000 b3:1e 188455 00000000-00000000 .3.3.....3..333.3.......2333................333..................................................3..3................3.......  /data/misc/test
0008c000-0008e000 rw-p 0007c000 b3:1e 188455 e0783000-e00dc000 11  /data/misc/test
0008e000-0008f000 rw-p 00000000 00:00 0 e00dc000-00000000 3 
0145c000-0147e000 rw-p 00000000 00:00 0 e0782000-00000000 1.................................  [heap]
b6f28000-b6f32000 -w-p 00000000 00:00 0 e06b4000-e1181000 22222..... 
b6f32000-b6f33000 rw-p 00000000 00:00 0 e1181000-00000000 1 
bee7e000-bee9f000 rw-p 00000000 00:00 0 00000000-00000000 ..........................1....31  [stack]
ffff0000-ffff1000 r-xp 00000000 00:00 0 00000000-00000000   [vectors]
pid(3664): done waiting for test_4, pid(3665).
pid(3660): done waiting for test_4, pid(3664).


Test 5, 1111..2222

in test_5 child, pid(3666), new_map(b6f28000)
/proc/self/maps:
00008000-00085000 r-xp 00000000 b3:1e 188455 00000000-00000000 .3.3.....3..333.3.......2333................333..................................................3..3................3.......  /data/misc/test
0008c000-0008e000 rw-p 0007c000 b3:1e 188455 e05a1000-e00dc000 11  /data/misc/test
0008e000-0008f000 rw-p 00000000 00:00 0 e00dc000-00000000 3 
0145c000-0147e000 rw-p 00000000 00:00 0 e0780000-00000000 1.................................  [heap]
b6f28000-b6f32000 -w-p 00000000 00:00 0 e1181000-e1180000 1111..2222 
b6f32000-b6f33000 rw-p 00000000 00:00 0 e1180000-00000000 1 
bee7e000-bee9f000 rw-p 00000000 00:00 0 00000000-00000000 ..........................1....31  [stack]
ffff0000-ffff1000 r-xp 00000000 00:00 0 00000000-00000000   [vectors]
pid(3666): done waiting for test_5, pid(3667).
pid(3660): done waiting for test_5, pid(3666).


Test 6, 2000 '.'

in test_6 child, pid(3668), new_map(b6762000)
/proc/self/maps:
00008000-00085000 r-xp 00000000 b3:1e 188455 00000000-00000000 .2.2.....2..222.2.......2222...............222222................................................2..2................2.......  /data/misc/test
0008c000-0008e000 rw-p 0007c000 b3:1e 188455 e06b4000-e00dc000 11  /data/misc/test
0008e000-0008f000 rw-p 00000000 00:00 0 e00dc000-00000000 2 
0145c000-0147e000 rw-p 00000000 00:00 0 e1182000-00000000 1.................................  [heap]
b6762000-b6f32000 ---p 00000000 00:00 0 00000000-e06aa000 ................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................ 
b6f32000-b6f33000 rw-p 00000000 00:00 0 e06aa000-00000000 1 
bee7e000-bee9f000 rw-p 00000000 00:00 0 00000000-00000000 ..........................1....21  [stack]
ffff0000-ffff1000 r-xp 00000000 00:00 0 00000000-00000000   [vectors]
pid(3660): done waiting for test_6, pid(3668).


Test 7, trigger OOM

in test_7 child, pid(3669), new_map(36f32000)
pid(3660): done waiting for test_7, pid(3669).
WIFEXITED:0
WEXITSTATUS:0
WIFSIGNALED:1
WTERMSIG:9
WCOREDUMP:0
WIFSTOPPED:0
WSTOPSIG:0
WIFCONTINUED:0

/proc/self/maps:
00008000-00085000 r-xp 00000000 b3:1e 188455 d2311000-00000000 11.1....111.1111111111111111111...........1111111..........1.1...1..1...111......................1..1.1.1............1..1....  /data/misc/test
0008c000-0008e000 rw-p 0007c000 b3:1e 188455 e06aa000-e00dc000 11  /data/misc/test
0008e000-0008f000 rw-p 00000000 00:00 0 e00dc000-00000000 1 
0145c000-0147e000 rw-p 00000000 00:00 0 e06b4000-00000000 1.................................  [heap]
b6f32000-b6f33000 rw-p 00000000 00:00 0 e068b000-00000000 1 
bee7e000-bee9f000 rw-p 00000000 00:00 0 00000000-00000000 ..........................1....11  [stack]
ffff0000-ffff1000 r-xp 00000000 00:00 0 00000000-00000000   [vectors]

root@flo:/data/misc #     
